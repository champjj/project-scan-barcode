<div class="sell-product">
  <div class="container">
    <h1>Selling Product</h1>

    <!-- devices -->

    <div>
      <select
        [ngModel]="null"
        (ngModelChange)="action.playDevice($event)"
        class="selectbox-select-device hidden"
      >
        <option [value]="deviceIdFacingback" selected>Select device</option>
        <option
          *ngFor="let c of action.devices.value; let i = index"
          [ngValue]="c.deviceId"
          [selected]="
            indexCameraFacingback !== -1 ? i == indexCameraFacingback : 0
          "
        >
          {{ c.label }}
        </option>
      </select>
    </div>

    <!-- ngx-scanner-qrcode -->
    <ngx-scanner-qrcode
      #action="scanner"
      id="scannerCamera"
      [config]="config"
      (event)="onEvent($event)"
      class="scanner-barcode hidden-scanner"
    ></ngx-scanner-qrcode>

    <!-- loading -->
    <p *ngIf="action.isLoading">âŒ› Loading...</p>

    <!-- start/stop -->
    <div hidden>
      <button
        id="btnOpenScanner"
        mat-raised-button
        [class.btn-info]="!action.isStart"
        [hidden]="action.isStart"
        [disabled]="action.isLoading"
        class="btn-open-scanner"
        (click)="handle(action, 'start')"
      >
        <label>OPEN SCANNER</label>
      </button>
    </div>
  </div>

  <hr />
  <div class="cover-input-member">
    <button mat-raised-button>Register New Member</button>
    <c-input
      [control]="getSellingFormByName('mobileMember')"
      [placeholder]="'Phone number'"
    ></c-input>
    <button mat-raised-button>Check Member</button>
  </div>
  <div class="cover-input-barcode">
    <c-input
      [control]="getSellingFormByName('manualProductCode')"
      [placeholder]="'Barcode'"
    ></c-input>
    <button mat-raised-button>Add Code</button>
  </div>

  <hr />

  <!-- table product Selling -->
  <p>
    showProduct <br />
    {{ showProduct | json }}
  </p>
  <table
    mat-table
    [dataSource]="productScanned"
    class="mat-elevation-z8 table-selling-product"
  >
    <ng-container matColumnDef="productCode">
      <th mat-header-cell *matHeaderCellDef>BCode</th>
      <td mat-cell *matCellDef="let element">{{ element.productCode }}</td>
    </ng-container>
    <ng-container matColumnDef="productName">
      <th mat-header-cell *matHeaderCellDef>Product</th>
      <td mat-cell *matCellDef="let element">{{ element.productName }}</td>
    </ng-container>
    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef>Price</th>
      <td mat-cell *matCellDef="let element">{{ element.price }}</td>
    </ng-container>
    <ng-container matColumnDef="qty">
      <th mat-header-cell *matHeaderCellDef>qty</th>
      <td mat-cell *matCellDef="let element">{{ element.qty }}</td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
</div>
<div class="cover-btn-footer">
  <button (click)="onBack()" mat-raised-button><b>Back</b></button>
</div>
<!-- for looking data -->
<!-- <div style="width: 100%; word-break: break-all">
  <p>showData : {{ showData | json }}</p>
  <p>showScannerResult : {{ showScannerResult | json }}</p>
  <p>value : {{ value }}</p>
  <p>indexCameraFacingback2 : {{ indexCameraFacingback }}</p>
  <br />
</div> -->
