<div class="sell-product">
  <div class="container">
    <h1>ngx-scanner-qrcode</h1>

    <!-- devices -->
    <div class="row">
      <div class="col-xs-12 col-md-6 col-lg-4 col-xl-3 my-1">
        <select
          [ngModel]="null"
          (ngModelChange)="action.playDevice($event)"
          class="form-select form-select-sm"
        >
          <option [value]="testDeviceId" selected>Select device</option>
          <option
            *ngFor="let c of action.devices.value; let i = index"
            [ngValue]="c.deviceId"
            [selected]="i == testShowIndex"
          >
            {{ c.label }}
          </option>
        </select>
      </div>
    </div>

    <!-- ngx-scanner-qrcode -->
    <ngx-scanner-qrcode
      #action="scanner"
      [config]="config"
      (event)="onEvent($event)"
    ></ngx-scanner-qrcode>

    <!-- data  -->
    <p class="data">{{ action.devices | async | json }}</p>

    <!-- loading -->
    <p *ngIf="action.isLoading">âŒ› Loading...</p>

    <!-- start/stop -->
    <button
      class="btn"
      [class.btn-info]="!action.isStart"
      [hidden]="action.isStart"
      [disabled]="action.isLoading"
    >
      <img
        *ngIf="!action.isStart"
        (click)="handle(action, 'start')"
        src="https://img.icons8.com/ios/50/000000/no-camera--v2.png"
        width="30px"
      />
      <!-- <img
        *ngIf="action.isStart"
        (click)="handle(action, 'stop')"
        src="https://img.icons8.com/ios/50/000000/no-camera--v1.png"
        width="30px"
      /> -->
    </button>
  </div>

  <ng-container>
    <p>value : {{ value }}</p>
    <p>testShowIndex : {{ testShowIndex }}</p>
    <br />
    <!-- <span>action.data.value: {{ action.data.value | json }}</span>
    <br />
    <span>action.data: {{ action.data | async | json }}</span> -->
  </ng-container>
</div>
