<div class="sell-product">
  <div class="container">
    <h1>ngx-scanner-qrcode</h1>

    <!-- devices -->
    <div class="row">
      <div class="col-xs-12 col-md-6 col-lg-4 col-xl-3 my-1">
        <select
          [ngModel]="null"
          (ngModelChange)="action.playDevice($event)"
          class="form-select form-select-sm"
        >
          <option [value]="null" selected>Select device</option>
          <option
            *ngFor="let c of action.devices.value; let i = index"
            [ngValue]="c.deviceId"
            [selected]="i == 0"
          >
            {{ c.label }}
          </option>
        </select>
      </div>

      <div class="col-xs-12 col-md-6 col-lg-4 col-xl-3 my-1">
        <select
          [ngModel]="'utf-8'"
          (ngModelChange)="action.decode = $event"
          class="form-select form-select-sm"
        >
          <option value="utf-8" [selected]="action.decode == 'utf-8'">
            UTF-8
          </option>
          <option
            value="iso-8859-15"
            [selected]="action.decode == 'iso-8859-15'"
          >
            ISO-8859-15
          </option>
          <option
            value="windows-1252"
            [selected]="action.decode == 'windows-1252'"
          >
            Windows-1252
          </option>
          <option value="macintosh" [selected]="action.decode == 'macintosh'">
            Macintosh
          </option>
        </select>
      </div>
    </div>

    <!-- ngx-scanner-qrcode -->
    <ngx-scanner-qrcode
      #action="scanner"
      [config]="config"
      (event)="onEvent($event)"
    ></ngx-scanner-qrcode>

    <!-- data  -->
    <!-- <p class="data">{{ (action.data | async | json) }}</p> -->

    <!-- loading -->
    <p *ngIf="action.isLoading">âŒ› Loading...</p>

    <!-- start/stop -->
    <button
      class="btn"
      [class.btn-info]="!action.isStart"
      [class.btn-warning]="action.isStart"
      [disabled]="action.isLoading"
    >
      <img
        *ngIf="!action.isStart"
        (click)="handle(action, 'start')"
        src="https://img.icons8.com/ios/50/000000/no-camera--v2.png"
        width="30px"
      />
      <img
        *ngIf="action.isStart"
        (click)="handle(action, 'stop')"
        src="https://img.icons8.com/ios/50/000000/no-camera--v1.png"
        width="30px"
      />
    </button>
  </div>
</div>
