<div class="sell-product">
  <div class="container">
    <h1>Selling Page</h1>

    <!-- devices -->

    <div>
      <select
        [ngModel]="null"
        (ngModelChange)="action.playDevice($event)"
        class="selectbox-select-device hidden"
      >
        <option [value]="deviceIdFacingback" selected>Select device</option>
        <option
          *ngFor="let c of action.devices.value; let i = index"
          [ngValue]="c.deviceId"
          [selected]="
            indexCameraFacingback !== -1 ? i == indexCameraFacingback : 0
          "
        >
          {{ c.label }}
        </option>
      </select>
    </div>

    <!-- ngx-scanner-qrcode -->
    <ngx-scanner-qrcode
      #action="scanner"
      id="scannerCamera"
      [config]="config"
      (event)="onEvent($event)"
      class="scanner-barcode hidden-scanner"
    ></ngx-scanner-qrcode>

    <!-- loading -->
    <p *ngIf="action.isLoading">âŒ› Loading...</p>

    <!-- start/stop -->
    <div hidden>
      <button
        id="btnOpenScanner"
        mat-raised-button
        [class.btn-info]="!action.isStart"
        [hidden]="action.isStart"
        [disabled]="action.isLoading"
        class="btn-open-scanner"
        (click)="handle(action, 'start')"
      >
        <label>OPEN SCANNER</label>
      </button>
    </div>
  </div>

  <hr />

  <!-- table product Selling -->
  <!-- <p>
    showProduct <br />
    {{ showProduct | json }}
  </p>
  <p>
    productScanned <br />
    {{ productScanned | json }}
  </p> -->

  <div class="cover-input-barcode">
    <label class="text-header-input">Add Manual Barcode</label>
    <c-input
      [control]="getSellingFormByName('manualProductCode')"
      [placeholder]="'Manual Barcode'"
      [inputType]="'number'"
    ></c-input>
    <button
      style="width: 100%"
      [disabled]="!getSellingFormByName('manualProductCode').value"
      (click)="manualAddBarcode()"
      mat-raised-button
    >
      Add Code
    </button>
  </div>

  <hr />

  <table class="table-selling-product">
    <tr>
      <th>BCode</th>
      <th>Product</th>
      <th>Price</th>
      <th>qty</th>
    </tr>
    <tr *ngFor="let item of productScanned">
      <td>{{ item.productCode }}</td>
      <td class="table-text-max-length">{{ item.productName }}</td>
      <td>{{ item.price }}</td>
      <td>{{ item.qty }}</td>
    </tr>

    <tr>
      <td><b>Total Price</b></td>
      <td></td>
      <td>
        <b>{{ totalPrice }}</b>
      </td>
      <td></td>
    </tr>
  </table>
  <hr />
  <div class="cover-input-member">
    <label class="text-header-input-member">Member</label>
    <c-input
      [control]="getSellingFormByName('mobileMember')"
      [placeholder]="'Phone number'"
      [inputType]="'number'"
    ></c-input>
    <button
      [disabled]="!getSellingFormByName('mobileMember').value"
      mat-raised-button
    >
      Check Member
    </button>
    <button mat-raised-button>Register New Member</button>
  </div>
</div>
<div class="cover-btn-footer">
  <button (click)="onBack()" mat-raised-button><b>Back</b></button>
</div>
<!-- for looking data -->
<!-- <div style="width: 100%; word-break: break-all">
  <p>showData : {{ showData | json }}</p>
  <p>showScannerResult : {{ showScannerResult | json }}</p>
  <p>value : {{ value }}</p>
  <p>indexCameraFacingback2 : {{ indexCameraFacingback }}</p>
  <br />
</div> -->
